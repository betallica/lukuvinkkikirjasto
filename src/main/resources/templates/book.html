<div layout:decorator="layouts/default" layout:fragment="content">
    <h1 class="title">Kirja</h1>

    <table class="table is-striped is-fullwidth">
        <tbody>
            <tr>
                <th>Otsikko</th>
                <td th:text="${bookHint.name}"></td>
            </tr>
            <tr>
                <th>Kirjoittaja</th>
                <td th:text="${bookHint.author}"></td>
            </tr>
            <tr>
                <th>ISBN</th>
                <td th:text="${bookHint.isbn}"></td>
            </tr>
            <tr>
                <th>Tagit</th>
                <td>
                    <div class="tags">
                        <span class="tag is-primary" th:each="tag : ${bookHint.tags}" th:text="${tag.name}"/>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <form th:method="POST" th:action="@{/books/{id} (id=${bookHint.id})}">
        <div th:switch="${bookHint.isRead}">
            <input th:case="false" type="submit" value="Merkitse luetuksi" name="isRead" class="isReadButton"/>
            <input th:case="true" type="submit" value="Merkitse lukemattomaksi" name="isRead" class="isReadButton"/>
        </div>
    </form>
    <form th:method="POST" th:action="@{/books/{id} (id=${bookHint.id})}" th:object="${commentDto}">
	    <div>
	    	<p class="errormessage" th:each="error : ${#fields.errors('text')}"
	           th:text="${error}">Validation error</p>
	    	<textarea rows="3" cols="50" th:field="*{text}">Kirjoita kommentti...</textarea>
	    </div>
    	<input name="addComment" type="submit" value="Kommentoi"/>
    </form>

    <ul>
    	<li th:each="comment : ${comments}" class="comment-li">
    		<span th:text="${comment.text}" class="comment">Kommentti</span>	
    	</li>
    </ul>
</div>