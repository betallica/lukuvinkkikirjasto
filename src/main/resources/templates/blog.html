<div layout:decorator="layouts/default" layout:fragment="content">
    <h1 class="title" th:text="${blogHint.name}"></h1>

    <table class="table is-striped is-fullwidth">
        <tbody>
            <tr>
                <th>Tyyppi</th>
                <td>Blogi</td>
            </tr>
            <tr>
                <th>Kirjoittaja</th>
                <td th:text="${blogHint.author}"></td>
            </tr>
            <tr>
                <th>Linkki</th>
                <td>
                    <a th:href="${blogHint.url}" th:text="${blogHint.url}"></a>
                </td>
            </tr>
            <tr>
                <th>Tagit</th>
                <td>
                    <div class="tags">
                        <span class="tag is-primary" th:each="tag : ${blogHint.tags}" th:text="${tag.name}"/>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>

    <form th:method="POST" th:action="@{/blogs/{id} (id=${blogHint.id})}" class="isReadButton">
        <div th:switch="${blogHint.isRead}">
            <input th:case="false" type="submit" value="Merkitse luetuksi" name="isRead" class="button is-link isReadButton"/>
            <input th:case="true" type="submit" value="Merkitse lukemattomaksi" name="isRead" class="button is-link isReadButton"/>
        </div>
    </form>

    <form th:method="POST" th:action="@{/blogs/{id} (id=${blogHint.id})}" th:object="${commentDto}">
		<div class="field">
	    	<p class="errormessage" th:each="error : ${#fields.errors('text')}"
	           th:text="${error}">Validation error</p>
            <textarea class="textarea" rows="5" cols="50" th:field="*{text}" placeholder="Kirjoita kommentti..."></textarea>
        </div>

        <div class="field">
            <input class="button is-link" name="addComment" type="submit" value="Kommentoi"/>
        </div>
    </form>

    <section class="section">
        <div class="box" th:each="comment : ${comments}">
            <article class="media">
                <div class="media-left">
                    <figure class="image is-64x64">
                        <i class="fa fa-3x fa-user"></i>
                    </figure>
                </div>

                <div class="media-content">
                    <p>
                        <div class="tags has-addons">
                            <span class="tag is-dark">
                                <i class="fa fa-clock-o" aria-hidden="true"></i>
                            </span>

                            <span class="tag" th:text="${comment.formattedDate}">
                                Julkaisuaika
                            </span>
                        </div>
                    </p>

                    <p th:text="${comment.text}">Kommentti</p>
                </div>
            </article>
        </div>
    </section>
</div>